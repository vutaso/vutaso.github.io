const translations = {
    vi: {
        "title": "Chính sách Bảo mật",
        "last-updated": "Cập nhật lần cuối: Ngày 29 tháng 4 năm 2024",
        "intro-text": "Chính sách bảo mật này mô tả các chính sách và thủ tục của chúng tôi về việc thu thập, sử dụng và tiết lộ thông tin của bạn khi bạn sử dụng dịch vụ và cho bạn biết về quyền riêng tư của bạn và cách luật pháp bảo vệ bạn.",
        "interpretation-title": "Giải thích và Định nghĩa",
        "interpretation-subtitle": "Giải thích",
        "interpretation-text": "Các từ viết hoa sẽ có nghĩa như được định nghĩa dưới đây. Các định nghĩa sau đây sẽ có cùng ý nghĩa bất kể chúng xuất hiện ở dạng số ít hay số nhiều.",
        "definitions-subtitle": "Định nghĩa",
        "definitions-text": "Cho mục đích của Chính sách Bảo mật này:",
        "def-account": "<strong>Tài khoản:</strong> Tài khoản duy nhất được tạo để truy cập vào dịch vụ của chúng tôi hoặc các phần của dịch vụ.",
        "def-app": "<strong>Ứng dụng:</strong> Ứng dụng QRBay do công ty cung cấp.",
        "def-company": "<strong>Công ty:</strong> QRBay (có thể gọi là \"Chúng tôi\", \"Của chúng tôi\" hoặc \"Chúng ta\" trong Chính sách Bảo mật này).",
        "def-country": "<strong>Quốc gia:</strong> Việt Nam.",
        "def-device": "<strong>Thiết bị:</strong> Bất kỳ thiết bị nào có thể truy cập dịch vụ như máy tính, điện thoại di động hoặc máy tính bảng.",
        "def-personal-data": "<strong>Dữ liệu cá nhân:</strong> Thông tin liên quan đến một cá nhân xác định hoặc có thể xác định được.",
        "def-service": "<strong>Dịch vụ:</strong> Ứng dụng QRBay.",
        "def-service-provider": "<strong>Nhà cung cấp dịch vụ:</strong> Cá nhân hoặc tổ chức bên thứ ba xử lý dữ liệu thay mặt cho công ty.",
        "def-usage-data": "<strong>Dữ liệu sử dụng:</strong> Dữ liệu được thu thập tự động khi sử dụng dịch vụ.",
        "data-collection-title": "Thu thập và Sử dụng Dữ liệu Cá nhân",
        "data-types-subtitle": "Loại Dữ liệu Thu thập",
        "personal-data-subtitle": "Dữ liệu cá nhân",
        "personal-data-text": "Chúng tôi có thể yêu cầu bạn cung cấp thông tin cá nhân để liên lạc hoặc xác định bạn, như dữ liệu sử dụng.",
        "usage-data-subtitle": "Dữ liệu sử dụng",
        "usage-data-text": "Được thu thập tự động khi sử dụng dịch vụ, bao gồm địa chỉ IP, loại trình duyệt, phiên bản trình duyệt, các trang bạn truy cập và thời gian truy cập.",
        "app-data-subtitle": "Thông tin thu thập khi sử dụng ứng dụng",
        "app-data-text": "Chúng tôi có thể thu thập ảnh và thông tin khác từ thư viện ảnh hoặc camera của thiết bị khi bạn cho phép.",
        "use-data-subtitle": "Sử dụng Dữ liệu Cá nhân",
        "use-data-text": "Chúng tôi sử dụng dữ liệu cá nhân để:",
        "use-purpose-1": "Cung cấp và duy trì dịch vụ.",
        "use-purpose-2": "Quản lý tài khoản của bạn.",
        "use-purpose-3": "Liên lạc với bạn về dịch vụ hoặc các sản phẩm liên quan.",
        "use-purpose-4": "Cải thiện dịch vụ và trải nghiệm người dùng.",
        "retention-subtitle": "Lưu trữ Dữ liệu Cá nhân",
        "retention-text": "Chúng tôi sẽ lưu trữ dữ liệu cá nhân của bạn chỉ trong thời gian cần thiết để thực hiện các mục đích nêu trên, hoặc theo yêu cầu của pháp luật.",
        "transfer-subtitle": "Chuyển Giao Dữ liệu Cá nhân",
        "transfer-text": "Dữ liệu của bạn có thể được chuyển giao và xử lý ở các quốc gia khác, nhưng chúng tôi sẽ đảm bảo rằng dữ liệu của bạn được bảo vệ theo chính sách bảo mật này.",
        "data-security-title": "Bảo mật Dữ liệu",
        "data-security-text": "Chúng tôi cam kết bảo vệ dữ liệu cá nhân của bạn, nhưng không thể đảm bảo bảo mật tuyệt đối.",
        "children-privacy-title": "Chính sách Dành Cho Trẻ Em",
        "children-privacy-text": "Chúng tôi không thu thập thông tin cá nhân từ trẻ em dưới 13 tuổi. Nếu phát hiện có sự vi phạm, chúng tôi sẽ xóa ngay lập tức.",
        "links-title": "Liên Kết Đến Trang Web Khác",
        "links-text": "Dịch vụ của chúng tôi có thể chứa liên kết đến các trang web khác không do chúng tôi điều hành. Chúng tôi không chịu trách nhiệm về nội dung và chính sách bảo mật của các trang web đó.",
        "policy-changes-title": "Thay Đổi Chính Sách Bảo mật",
        "policy-changes-text": "Chúng tôi có thể cập nhật chính sách bảo mật này. Bạn nên kiểm tra định kỳ để cập nhật những thay đổi.",
        "contact-title": "Liên Hệ",
        "contact-text": "Nếu có bất kỳ câu hỏi nào về Chính sách Bảo mật này, vui lòng liên hệ với chúng tôi qua email: <b>vutaso.com@gmail.com</b>."
    },
    en: {
        "title": "Privacy Policy",
        "last-updated": "Last updated: April 29, 2024",
        "intro-text": "This Privacy Policy describes Our policies and procedures on the collection, use and disclosure of Your information when You use the Service and tells You about Your privacy rights and how the law protects You.",
        "interpretation-title": "Interpretation and Definitions",
        "interpretation-subtitle": "Interpretation",
        "interpretation-text": "The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural.",
        "definitions-subtitle": "Definitions",
        "definitions-text": "For the purposes of this Privacy Policy:",
        "def-account": "<strong>Account:</strong> A unique account created for You to access our Service or parts of our Service.",
        "def-app": "<strong>Application:</strong> The QRBay application provided by the Company.",
        "def-company": "<strong>Company:</strong> QRBay (referred to as either \"the Company\", \"We\", \"Us\" or \"Our\" in this Agreement).",
        "def-country": "<strong>Country:</strong> Vietnam.",
        "def-device": "<strong>Device:</strong> Any device that can access the Service such as a computer, a cellphone or a digital tablet.",
        "def-personal-data": "<strong>Personal Data:</strong> Any information that relates to an identified or identifiable individual.",
        "def-service": "<strong>Service:</strong> The QRBay application.",
        "def-service-provider": "<strong>Service Provider:</strong> Any natural or legal person who processes the data on behalf of the Company.",
        "def-usage-data": "<strong>Usage Data:</strong> Data collected automatically, either generated by the use of the Service or from the Service infrastructure itself.",
        "data-collection-title": "Collecting and Using Your Personal Data",
        "data-types-subtitle": "Types of Data Collected",
        "personal-data-subtitle": "Personal Data",
        "personal-data-text": "We may ask You to provide Us with certain personally identifiable information that can be used to contact or identify You.",
        "usage-data-subtitle": "Usage Data",
        "usage-data-text": "Usage Data is collected automatically when using the Service. It may include information such as Your Device's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that You visit, the time and date of Your visit.",
        "app-data-subtitle": "Information Collected while Using the Application",
        "app-data-text": "We may collect pictures and other information from your Device's photo library or camera while using our Application with your permission.",
        "use-data-subtitle": "Use of Your Personal Data",
        "use-data-text": "The Company may use Personal Data for the following purposes:",
        "use-purpose-1": "To provide and maintain our Service.",
        "use-purpose-2": "To manage Your Account.",
        "use-purpose-3": "To contact You regarding the Service or related products.",
        "use-purpose-4": "To improve the Service and user experience.",
        "retention-subtitle": "Retention of Your Personal Data",
        "retention-text": "The Company will retain Your Personal Data only for as long as is necessary for the purposes set out in this Privacy Policy, or as required by law.",
        "transfer-subtitle": "Transfer of Your Personal Data",
        "transfer-text": "Your information, including Personal Data, is processed at the Company's operating offices and in any other places where the parties involved in the processing are located.",
        "data-security-title": "Security of Your Personal Data",
        "data-security-text": "The security of Your Personal Data is important to Us, but remember that no method of transmission over the Internet, or method of electronic storage is 100% secure.",
        "children-privacy-title": "Children's Privacy",
        "children-privacy-text": "Our Service does not address anyone under the age of 13. We do not knowingly collect personally identifiable information from anyone under the age of 13.",
        "links-title": "Links to Other Websites",
        "links-text": "Our Service may contain links to other websites that are not operated by Us. We have no control over and assume no responsibility for the content, privacy policies or practices of any third party sites or services.",
        "policy-changes-title": "Changes to this Privacy Policy",
        "policy-changes-text": "We may update Our Privacy Policy from time to time. We will notify You of any changes by posting the new Privacy Policy on this page.",
        "contact-title": "Contact Us",
        "contact-text": "If you have any questions about this Privacy Policy, You can contact us by email: <b>vutaso.com@gmail.com</b>."
    },
    ja: {
        "title": "プライバシーポリシー",
        "last-updated": "最終更新日：2024年4月29日",
        "intro-text": "このプライバシーポリシーは、お客様がサービスを使用する際の情報収集、使用、開示に関する当社の方針と手順を説明し、お客様のプライバシー権と法律がどのようにお客様を保護するかについて説明します。",
        "interpretation-title": "解釈と定義",
        "interpretation-subtitle": "解釈",
        "interpretation-text": "頭文字が大文字の単語は、以下の条件で定義された意味を持ちます。以下の定義は、単数形でも複数形でも同じ意味を持ちます。",
        "definitions-subtitle": "定義",
        "definitions-text": "このプライバシーポリシーの目的のために：",
        "def-account": "<strong>アカウント：</strong> 当社のサービスまたはサービスの一部にアクセスするためにお客様用に作成された一意のアカウント。",
        "def-app": "<strong>アプリケーション：</strong> 当社が提供するQRBayアプリケーション。",
        "def-company": "<strong>当社：</strong> QRBay（本契約では「当社」、「私たち」、「私たちの」といいます）。",
        "def-country": "<strong>国：</strong> ベトナム。",
        "def-device": "<strong>デバイス：</strong> コンピュータ、携帯電話、デジタルタブレットなど、サービスにアクセスできるあらゆるデバイス。",
        "def-personal-data": "<strong>個人データ：</strong> 特定された、または特定可能な個人に関連するあらゆる情報。",
        "def-service": "<strong>サービス：</strong> QRBayアプリケーション。",
        "def-service-provider": "<strong>サービスプロバイダー：</strong> 当社に代わってデータを処理する自然人または法人。",
        "def-usage-data": "<strong>使用データ：</strong> サービスの使用によって、またはサービスインフラストラクチャ自体から自動的に生成され、収集されるデータ。",
        "data-collection-title": "個人データの収集と使用",
        "data-types-subtitle": "収集されるデータの種類",
        "personal-data-subtitle": "個人データ",
        "personal-data-text": "当社は、お客様に連絡したり、お客様を特定したりするために使用できる特定の個人情報の提供をお願いする場合があります。",
        "usage-data-subtitle": "使用データ",
        "usage-data-text": "使用データは、サービスの使用時に自動的に収集されます。これには、デバイスのインターネットプロトコルアドレス（IPアドレスなど）、ブラウザの種類、ブラウザのバージョン、お客様が訪問した当社サービスのページ、訪問日時などが含まれる場合があります。",
        "app-data-subtitle": "アプリケーション使用時に収集される情報",
        "app-data-text": "当社は、お客様の許可を得て、アプリケーションの使用中にお客様のデバイスのフォトライブラリまたはカメラから写真やその他の情報を収集する場合があります。",
        "use-data-subtitle": "個人データの使用",
        "use-data-text": "当社は、以下の目的で個人データを使用する場合があります：",
        "use-purpose-1": "サービスの提供と維持のため。",
        "use-purpose-2": "お客様のアカウントを管理するため。",
        "use-purpose-3": "サービスまたは関連製品についてお客様に連絡するため。",
        "use-purpose-4": "サービスとユーザーエクスペリエンスを向上させるため。",
        "retention-subtitle": "個人データの保持",
        "retention-text": "当社は、このプライバシーポリシーに記載されている目的のために必要な期間のみ、お客様の個人データを保持します。",
        "transfer-subtitle": "個人データの転送",
        "transfer-text": "個人データを含むお客様の情報は、お客様の州、県、国、またはその他の政府管轄区域外にあるコンピュータに転送され、そこで維持される場合があります。",
        "data-security-title": "個人データのセキュリティ",
        "data-security-text": "お客様の個人データのセキュリティは当社にとって重要ですが、インターネット経由の送信方法や電子ストレージの方法は100％安全ではないことを覚えておいてください。",
        "children-privacy-title": "子供のプライバシー",
        "children-privacy-text": "当社のサービスは13歳未満の方を対象としていません。当社は、13歳未満の方から意図的に個人情報を収集することはありません。",
        "links-title": "他のウェブサイトへのリンク",
        "links-text": "当社のサービスには、当社が運営していない他のウェブサイトへのリンクが含まれている場合があります。当社は、第三者のサイトやサービスのコンテンツ、プライバシーポリシー、または慣行について管理権を持たず、一切の責任を負いません。",
        "policy-changes-title": "このプライバシーポリシーの変更",
        "policy-changes-text": "当社は、プライバシーポリシーを随時更新する場合があります。変更があった場合は、このページに新しいプライバシーポリシーを掲載してお知らせします。",
        "contact-title": "お問い合わせ",
        "contact-text": "このプライバシーポリシーについてご質問がある場合は、メールでお問い合わせください：<b>vutaso.com@gmail.com</b>"
    }
};

function switchLanguage(lang) {
    document.querySelectorAll('[data-key]').forEach(element => {
        const key = element.getAttribute('data-key');
        if (translations[lang] && translations[lang][key]) {
            element.innerHTML = translations[lang][key];
        }
    });

    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('data-lang') === lang) {
            btn.classList.add('active');
        }
    });

    document.documentElement.lang = lang;
    localStorage.setItem('qrbay-privacy-lang', lang);
}

document.querySelectorAll('.lang-btn').forEach(button => {
    button.addEventListener('click', () => {
        const lang = button.getAttribute('data-lang');
        switchLanguage(lang);
    });
});

// Auto-detect language
const detectUserLanguage = () => {
    const savedLang = localStorage.getItem('qrbay-privacy-lang');
    if (savedLang && (savedLang === 'vi' || savedLang === 'en' || savedLang === 'ja')) {
        return savedLang;
    }

    const browserLang = navigator.language || navigator.userLanguage;
    if (browserLang) {
        if (browserLang.toLowerCase().startsWith('vi')) return 'vi';
        if (browserLang.toLowerCase().startsWith('ja')) return 'ja';
    }

    return 'en';
};

// Initialize with detected language
const initialLang = detectUserLanguage();
switchLanguage(initialLang);
