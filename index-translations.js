const translations = {
    vi: {
        // Navigation
        "nav-moneybay": "MoneyBay",
        "nav-qrbay": "QRBay",
        "nav-faq": "Hỏi đáp",
        "nav-download": "Tải ngay",
        "nav-download-moneybay": "Tải MoneyBay",
        "nav-download-qrbay": "Tải QRBay",

        // Hero Section
        "hero-title": "MoneyBay: Quản Lý Chi Tiêu<br>& QRBay: Quét Mã QR Code",
        "hero-subtitle": "Được thiết kế cho iOS",
        "hero-description": "Miễn phí. An toàn. Dễ sử dụng.",
        "hero-btn-moneybay": "Khám phá MoneyBay",
        "hero-btn-qrbay": "Khám phá QRBay",

        // Section Headline
        "section-eyebrow": "Sản phẩm nổi bật",
        "section-title": "Được thiết kế cho cuộc sống<br>hàng ngày của bạn",

        // MoneyBay Card
        "moneybay-subtitle": "Quản lý chi tiêu cá nhân thông minh với trợ lý AI",
        "moneybay-btn-download": "Tải MoneyBay",
        "moneybay-btn-learn": "Tìm hiểu thêm",
        "moneybay-feature-1": "Miễn phí, không yêu cầu đăng nhập",
        "moneybay-feature-2": "Ghi chép thu nhập và chi tiêu nhanh chóng bằng giọng nói hoặc chat với AI",
        "moneybay-feature-3": "Báo cáo tài chính trực quan với biểu đồ",
        "moneybay-feature-4": "Dữ liệu an toàn trên thiết bị và iCloud",
        "moneybay-feature-5": "Xuất dữ liệu CSV dễ dàng",
        "moneybay-feature-6": "Hoạt động offline, đồng bộ online khi có mạng",
        "moneybay-feature-7": "Đa dạng các tiện ích như Hạn mức chi, Danh sách mua sắm, Quét hóa đơn và tài liệu, Nhập giao dịch từ hình ảnh, Chia tiền hóa đơn, Chuyển đổi tiền tệ, tính tiền típ...",
        "moneybay-testimonial": "\"MoneyBay là app quản lý chi tiêu cá nhân đơn giản nhất tôi từng dùng. Giao diện trực quan và nhập liệu cực nhanh.\"",
        "moneybay-testimonial-author": "— Anh Quân Nguyễn, Freelancer",

        // QRBay Card
        "qrbay-subtitle": "Quét và tạo mã QR siêu tốc",
        "qrbay-btn-download": "Tải QRBay",
        "qrbay-btn-learn": "Tìm hiểu thêm",
        "qrbay-feature-1": "Quét mã QR code và mã vạch nhanh chóng",
        "qrbay-feature-2": "Tạo QR code: Wi-Fi, URL, danh thiếp, văn bản",
        "qrbay-feature-3": "Lưu lịch sử quét và kiểm kê thuận tiện",
        "qrbay-feature-4": "Miễn phí, không yêu cầu đăng nhập",
        "qrbay-feature-5": "Bảo mật, không thu thập dữ liệu",
        "qrbay-feature-6": "Quét nhiều mã QR hoặc mã vạch cùng một lúc",
        "qrbay-feature-7": "Xuất và chia sẻ mã QR đã tạo",
        "qrbay-testimonial": "\"QRBay quét mã cực nhanh. Tính năng quét hàng loạt và lưu lịch sử rất tiện cho công việc kiểm kê.\"",
        "qrbay-testimonial-author": "— Chị Ngọc Mai, Chủ cửa hàng",

        // FAQ Section
        "faq-title": "Câu hỏi thường gặp",
        "faq-q1": "Dữ liệu của tôi có được an toàn không?",
        "faq-a1": "An toàn. Chúng tôi không thu thập bất kỳ dữ liệu cá nhân nào. Mọi thông tin chỉ được lưu trữ trên thiết bị hoặc đồng bộ qua iCloud cá nhân của bạn.",
        "faq-q2": "Ứng dụng có miễn phí không?",
        "faq-a2": "Cả MoneyBay và QRBay đều cung cấp phiên bản miễn phí với đầy đủ các tính năng cốt lõi. QRBay hoàn toàn miễn phí. MoneyBay có thể có các tính năng nâng cao tùy chọn (Premium) trong tương lai để hỗ trợ chúng tôi phát triển, nhưng các chức năng thiết yếu sẽ luôn miễn phí.",
        "faq-q3": "Làm thế nào để xuất dữ liệu?",
        "faq-a3": "MoneyBay cho phép xuất toàn bộ dữ liệu ra file CSV hoặc PDF, dễ dàng mở bằng Excel hoặc Google Sheets. Ngoài ra, dữ liệu tự động đồng bộ với iCloud.",
        "faq-q4": "App có phiên bản Android không?",
        "faq-a4": "Hiện tại, ứng dụng được thiết kế và tối ưu cho iOS. Chúng tôi tập trung mang lại trải nghiệm tốt nhất trên iPhone.",

        // Footer
        "footer-connect": "Kết nối với chúng tôi",
        "footer-community": "Cộng đồng",
        "footer-support": "Hỗ trợ",
        "footer-email": "Email",
        "footer-download-moneybay": "Tải MoneyBay",
        "footer-download-qrbay": "Tải QRBay",
        "footer-copyright": "© 2025 VUTASO. Bảo lưu mọi quyền.",
        "footer-tagline": "Sản phẩm được tạo ra với ❤️ tại Việt Nam."
    },
    en: {
        // Navigation
        "nav-moneybay": "MoneyBay",
        "nav-qrbay": "QRBay",
        "nav-faq": "FAQ",
        "nav-download": "Download",
        "nav-download-moneybay": "Download MoneyBay",
        "nav-download-qrbay": "Download QRBay",

        // Hero Section
        "hero-title": "MoneyBay: Expense Manager<br>& QRBay: QR Code Scanner",
        "hero-subtitle": "Designed for iOS",
        "hero-description": "Free. Secure. Easy to use.",
        "hero-btn-moneybay": "Explore MoneyBay",
        "hero-btn-qrbay": "Explore QRBay",

        // Section Headline
        "section-eyebrow": "Featured Products",
        "section-title": "Designed for your<br>everyday life",

        // MoneyBay Card
        "moneybay-subtitle": "Smart personal expense management with AI assistant",
        "moneybay-btn-download": "Download MoneyBay",
        "moneybay-btn-learn": "Learn more",
        "moneybay-feature-1": "Free, no login required",
        "moneybay-feature-2": "Record income and expenses quickly by voice or chat with AI",
        "moneybay-feature-3": "Visual financial reports with charts",
        "moneybay-feature-4": "Data safely stored on device and iCloud",
        "moneybay-feature-5": "Easy CSV data export",
        "moneybay-feature-6": "Works offline, syncs online when connected",
        "moneybay-feature-7": "Various utilities like spending limits, shopping lists, receipt scanning, transaction import from images, bill splitting, currency conversion, tip calculator...",
        "moneybay-testimonial": "\"MoneyBay is the simplest expense management app I've ever used. The interface is intuitive and data entry is super fast.\"",
        "moneybay-testimonial-author": "— Quan Nguyen, Freelancer",

        // QRBay Card
        "qrbay-subtitle": "Scan and create QR codes super fast",
        "qrbay-btn-download": "Download QRBay",
        "qrbay-btn-learn": "Learn more",
        "qrbay-feature-1": "Scan QR codes and barcodes quickly",
        "qrbay-feature-2": "Create QR codes: Wi-Fi, URL, business cards, text",
        "qrbay-feature-3": "Save scan history and inventory conveniently",
        "qrbay-feature-4": "Free, no login required",
        "qrbay-feature-5": "Secure, no data collection",
        "qrbay-feature-6": "Scan multiple QR codes or barcodes at once",
        "qrbay-feature-7": "Export and share created QR codes",
        "qrbay-testimonial": "\"QRBay scans codes super fast. The batch scanning and history features are very convenient for inventory work.\"",
        "qrbay-testimonial-author": "— Ngoc Mai, Store Owner",

        // FAQ Section
        "faq-title": "Frequently Asked Questions",
        "faq-q1": "Is my data safe?",
        "faq-a1": "Safe. We do not collect any personal data. All information is only stored on your device or synced via your personal iCloud.",
        "faq-q2": "Is the app free?",
        "faq-a2": "Both MoneyBay and QRBay offer a free version with all core features. QRBay is completely free. MoneyBay may have optional premium features in the future to support our development, but essential functions will always be free.",
        "faq-q3": "How do I export data?",
        "faq-a3": "MoneyBay allows you to export all data to CSV or PDF files, easy to open with Excel or Google Sheets. Additionally, data automatically syncs with iCloud.",
        "faq-q4": "Is there an Android version?",
        "faq-a4": "Currently, the app is designed and optimized for iOS. We focus on delivering the best experience on iPhone.",

        // Footer
        "footer-connect": "Connect with us",
        "footer-community": "Community",
        "footer-support": "Support",
        "footer-email": "Email",
        "footer-download-moneybay": "Download MoneyBay",
        "footer-download-qrbay": "Download QRBay",
        "footer-copyright": "© 2025 VUTASO. All Rights Reserved.",
        "footer-tagline": "Product made with ❤️ in Vietnam."
    },
    jp: {
        // Navigation
        "nav-moneybay": "MoneyBay",
        "nav-qrbay": "QRBay",
        "nav-faq": "よくある質問",
        "nav-download": "ダウンロード",
        "nav-download-moneybay": "MoneyBayをダウンロード",
        "nav-download-qrbay": "QRBayをダウンロード",

        // Hero Section
        "hero-title": "MoneyBay: 家計簿アプリ<br>& QRBay: QRコードスキャナー",
        "hero-subtitle": "iOS向けに設計",
        "hero-description": "無料・安全・使いやすい",
        "hero-btn-moneybay": "MoneyBayを見る",
        "hero-btn-qrbay": "QRBayを見る",

        // Section Headline
        "section-eyebrow": "おすすめアプリ",
        "section-title": "毎日の生活を<br>より便利に",

        // MoneyBay Card
        "moneybay-subtitle": "AI搭載のスマート家計簿アプリ",
        "moneybay-btn-download": "MoneyBayをダウンロード",
        "moneybay-btn-learn": "詳細を見る",
        "moneybay-feature-1": "無料・ログイン不要",
        "moneybay-feature-2": "音声入力やAIチャットで収支を素早く記録",
        "moneybay-feature-3": "視覚的な財務レポートとグラフ",
        "moneybay-feature-4": "デバイスとiCloudで安全にデータ保存",
        "moneybay-feature-5": "CSV形式でデータエクスポート可能",
        "moneybay-feature-6": "オフラインでも動作、接続時に自動同期",
        "moneybay-feature-7": "支出制限、買い物リスト、レシートスキャン、画像からの取引インポート、割り勘、通貨換算、チップ計算など多彩な機能",
        "moneybay-testimonial": "\"MoneyBayは今まで使った中で最もシンプルな家計簿アプリです。インターフェースが直感的で、データ入力が超高速です。\"",
        "moneybay-testimonial-author": "— クアン・グエン、フリーランサー",

        // QRBay Card
        "qrbay-subtitle": "QRコードを超高速でスキャン・作成",
        "qrbay-btn-download": "QRBayをダウンロード",
        "qrbay-btn-learn": "詳細を見る",
        "qrbay-feature-1": "QRコードとバーコードを素早くスキャン",
        "qrbay-feature-2": "QRコード作成: Wi-Fi、URL、名刺、テキスト",
        "qrbay-feature-3": "スキャン履歴を保存、在庫管理に便利",
        "qrbay-feature-4": "無料・ログイン不要",
        "qrbay-feature-5": "安全・データ収集なし",
        "qrbay-feature-6": "複数のQRコードやバーコードを一度にスキャン",
        "qrbay-feature-7": "作成したQRコードをエクスポート・共有",
        "qrbay-testimonial": "\"QRBayはコードスキャンが超高速です。一括スキャンと履歴機能が在庫管理作業にとても便利です。\"",
        "qrbay-testimonial-author": "— ゴックマイ、店舗オーナー",

        // FAQ Section
        "faq-title": "よくある質問",
        "faq-q1": "データは安全ですか？",
        "faq-a1": "安全です。個人データは一切収集しません。すべての情報はお使いのデバイスに保存されるか、個人のiCloudを介して同期されるだけです。",
        "faq-q2": "アプリは無料ですか？",
        "faq-a2": "MoneyBayとQRBayはどちらも、すべてのコア機能を備えた無料版を提供しています。QRBayは完全無料です。MoneyBayは将来的に開発をサポートするためのオプションのプレミアム機能を持つ場合がありますが、必須機能は常に無料です。",
        "faq-q3": "データをエクスポートする方法は？",
        "faq-a3": "MoneyBayでは、すべてのデータをCSVまたはPDFファイルにエクスポートでき、ExcelやGoogle Sheetsで簡単に開けます。さらに、データはiCloudと自動的に同期されます。",
        "faq-q4": "Android版はありますか？",
        "faq-a4": "現在、このアプリはiOS向けに設計・最適化されています。iPhoneで最高の体験を提供することに注力しています。",

        // Footer
        "footer-connect": "私たちとつながる",
        "footer-community": "コミュニティ",
        "footer-support": "サポート",
        "footer-email": "メール",
        "footer-download-moneybay": "MoneyBayをダウンロード",
        "footer-download-qrbay": "QRBayをダウンロード",
        "footer-copyright": "© 2025 VUTASO. 全著作権所有。",
        "footer-tagline": "ベトナムで❤️を込めて作られた製品。"
    }
};

function switchLanguage(lang) {
    document.querySelectorAll('[data-key]').forEach(element => {
        const key = element.getAttribute('data-key');
        if (translations[lang] && translations[lang][key]) {
            element.innerHTML = translations[lang][key];
        }
    });

    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('data-lang') === lang) {
            btn.classList.add('active');
        }
    });

    document.documentElement.lang = lang;
    localStorage.setItem('vutaso-home-lang', lang);
}

document.querySelectorAll('.lang-btn').forEach(button => {
    button.addEventListener('click', () => {
        const lang = button.getAttribute('data-lang');
        switchLanguage(lang);
    });
});

// Auto-detect language
const detectUserLanguage = () => {
    const savedLang = localStorage.getItem('vutaso-home-lang');
    if (savedLang && (savedLang === 'vi' || savedLang === 'en' || savedLang === 'jp')) {
        return savedLang;
    }

    const browserLang = navigator.language || navigator.userLanguage;
    const langLower = browserLang ? browserLang.toLowerCase() : '';

    if (langLower.startsWith('vi')) {
        return 'vi'; // Vietnamese
    }

    if (langLower.startsWith('ja')) {
        return 'jp'; // Japanese
    }

    return 'en'; // Default: English
};

// Initialize with detected language
const initialLang = detectUserLanguage();
switchLanguage(initialLang);
